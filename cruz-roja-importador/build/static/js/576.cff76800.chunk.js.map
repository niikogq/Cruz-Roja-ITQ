{"version":3,"file":"static/js/576.cff76800.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Visibility.js","pages/Filiales.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3\"\n}), 'Visibility');","import React, { useEffect, useState } from 'react';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\n\r\nexport default function Filiales() {\r\n  const [rows, setRows] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate(); // ← NUEVO\r\n\r\n  const fetchFiliales = () => {\r\n    setLoading(true);\r\n    fetch('http://localhost:3001/api/filialesTotals')\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        const numberedRows = data.map((item, index) => ({\r\n          id: item._id.toString(),\r\n          numero: index + 1,\r\n          ...item,\r\n        }));\r\n        setRows(numberedRows);\r\n        setLoading(false);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error al cargar filiales:', error);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFiliales();\r\n\r\n    const handleRefresh = () => fetchFiliales();\r\n    window.addEventListener('refreshFiliales', handleRefresh);\r\n\r\n    return () => {\r\n      window.removeEventListener('refreshFiliales', handleRefresh);\r\n    };\r\n  }, []);\r\n\r\n  // ← NUEVO: Función para navegar a detalle\r\n  const handleVerDetalles = (row) => {\r\n    navigate(`/filial/${encodeURIComponent(row.Filial)}`);\r\n  };\r\n\r\n  // ← MODIFICADO: Agregada columna \"acciones\" al inicio del array columns\r\n  const columns = [\r\n    { field: 'numero', headerName: 'N°', width: 60 },\r\n    { \r\n      field: 'acciones', \r\n      headerName: 'Detalles', \r\n      width: 90, \r\n      sortable: false,\r\n      filterable: false,\r\n      renderCell: (params) => (\r\n        <Button\r\n          size=\"small\"\r\n          onClick={() => handleVerDetalles(params.row)}\r\n          sx={{ \r\n            borderColor: '#9c1821',\r\n            color: '#9c1821',\r\n            minWidth: '40px',\r\n            padding: '2px 6px',\r\n            '&:hover': {\r\n              backgroundColor: 'rgba(156, 24, 33, 0.04)'\r\n            }\r\n          }}\r\n        >\r\n          <VisibilityIcon fontSize=\"small\" />\r\n        </Button>\r\n      )\r\n    },\r\n    { field: 'Filial', headerName: 'Filial', width: 130 },\r\n    { field: 'Sede regional', headerName: 'Sede regional', width: 130 },\r\n    { field: 'Voluntarios activos', headerName: 'Voluntarios activos', width: 130 },\r\n    { field: 'Voluntarios de llamada', headerName: 'Voluntarios de llamada', width: 130 },\r\n    { field: 'RUT', headerName: 'RUT', width: 130 },\r\n    { field: 'Dirección', headerName: 'Dirección', width: 180 },\r\n    { field: 'Teléfono contacto', headerName: 'Teléfono contacto', width: 130 },\r\n    { field: 'Fecha ultima elecciones', headerName: 'Fecha última elecciones', width: 150 },\r\n    { field: 'Instagram', headerName: 'Instagram', width: 130 },\r\n    { field: 'Tiene al menos una red social?', headerName: '¿Red social?', width: 130 },\r\n    { field: 'Persona dedicada a redes', headerName: 'Persona redes', width: 150 },\r\n    { field: 'Cambiar uniforme ceremonial', headerName: 'Uniforme ceremonial', width: 150 },\r\n    { field: 'Cambiar Color azul Chaquetas gestión del riesgo', headerName: 'Chaquetas gestión riesgo', width: 180 },\r\n    { field: 'Voluntarios sin capacitación', headerName: 'Sin capacitación', width: 130 },\r\n    { field: 'Voluntarios sin PPAA', headerName: 'Sin PPAA', width: 130 },\r\n    { field: 'Voluntarios sin Doctrina', headerName: 'Sin Doctrina', width: 130 },\r\n    { field: 'Voluntarios con título específico', headerName: 'Título específico', width: 150 },\r\n    { field: 'Instructores de PPAA', headerName: 'Instructores PPAA', width: 130 },\r\n    { field: 'Instructores doctrina', headerName: 'Instructores doctrina', width: 130 },\r\n    { field: 'Club adulto mayor', headerName: 'Club adulto mayor', width: 130 },\r\n    { field: 'Res. San. Policlinico', headerName: 'Res. San. Policlinico', width: 150 },\r\n    { field: 'Acción migratoria', headerName: 'Acción migratoria', width: 130 },\r\n    { field: 'Acción situación de calle', headerName: 'Acción situación de calle', width: 130 },\r\n    { field: 'Filial con Antena y Radio Teleco', headerName: 'Antena y Radio Teleco', width: 150 },\r\n    { field: 'Voluntarios con hoja de vida actualizada', headerName: 'Hoja de vida actualizada', width: 150 },\r\n    { field: 'Voluntariado con credencial actualizada', headerName: 'Credencial actualizada', width: 150 },\r\n    { field: 'Filial realiza charlas estatutos y reglamentos?', headerName: 'Charlas estatutos', width: 150 },\r\n    { field: 'Acción cambio climático', headerName: 'Acción cambio climático', width: 130 },\r\n    { field: 'Acciones PGI (protección, género, inclusión)', headerName: 'Acciones PGI', width: 150 },\r\n    { field: 'Acción CEA (Rendición cuentas a la comunidad)', headerName: 'Acción CEA', width: 150 },\r\n    { field: 'Kits alimentos entregados', headerName: 'Kits alimentos', width: 130 },\r\n    { field: 'Kits higiene entregados', headerName: 'Kits higiene', width: 130 },\r\n    { field: 'Kits abrigo entregados', headerName: 'Kits abrigo', width: 130 },\r\n    { field: 'Voluntarios capacitados en AA', headerName: 'Capacitados en AA', width: 130 },\r\n    { field: 'Voluntarios capacitados en SPAC', headerName: 'Capacitados en SPAC', width: 130 },\r\n    { field: 'Voluntarios capacitados en SMAPS', headerName: 'Capacitados en SMAPS', width: 130 },\r\n    { field: 'Voluntarios capacitados en RCF', headerName: 'Capacitados en RCF', width: 130 },\r\n    { field: 'Voluntarios capacitados en Manejo Redes', headerName: 'Capacitados en Manejo Redes', width: 150 },\r\n    { field: 'Voluntarios capacitados en Balances y EERR', headerName: 'Capacitados en Balances y EERR', width: 170 },\r\n    { field: 'N° personas capacitados en primeros auxilios (comunidad)', headerName: 'Personas capacitados primeros auxilios', width: 170 },\r\n    { field: 'Cantidad Personal rentado', headerName: 'Personal rentado', width: 130 },\r\n    { field: 'Cantidad Unidades Educativas Colegios', headerName: 'Unidades Educativas', width: 150 },\r\n    { field: 'Prioridad Sustentabilidad financiera', headerName: 'Sustentabilidad financiera', width: 170 },\r\n    { field: 'Prioridad Manejo tecnologías', headerName: 'Manejo tecnologías', width: 150 },\r\n    { field: 'Prioridad  políticas del voluntariado', headerName: 'Políticas voluntariado', width: 170 },\r\n    { field: 'Prioridad Liderazgo y estatutos', headerName: 'Liderazgo y estatutos', width: 150 },\r\n    { field: 'Prioridad Derecho internacional y cambio climático', headerName: 'Derecho internacional y cambio climático', width: 200 },\r\n    { field: 'Preferencia capacitacion', headerName: 'Preferencia capacitación', width: 150 },\r\n    { field: 'Relevancia 2024 Gestión del riesgo', headerName: 'Relevancia Gestión del riesgo', width: 170 },\r\n    { field: 'Relevancia 2024 Salud', headerName: 'Relevancia Salud', width: 150 },\r\n    { field: 'Relevancia 2024 Bienestar Social', headerName: 'Relevancia Bienestar Social', width: 170 },\r\n    { field: 'Relevancia 2024 Juventud', headerName: 'Relevancia Juventud', width: 150 },\r\n    { field: 'Financiamiento', headerName: 'Financiamiento', width: 120 },\r\n    { field: 'Comentario otro financiamiento', headerName: 'Comentario otro financiamiento', width: 170 },\r\n    { field: 'Encuesta confiable? (prioridades y relevancia', headerName: 'Encuesta confiable?', width: 170 },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Box\r\n        sx={{\r\n          height: 490,\r\n          width: '100%',\r\n          maxWidth: 1000,\r\n          background: '#fff',\r\n          margin: 'auto',\r\n          borderRadius: 2,\r\n          boxShadow: 1,\r\n          overflow: 'auto',\r\n        }}\r\n      >\r\n        <DataGrid\r\n          rows={rows}\r\n          columns={columns}\r\n          pageSize={15}\r\n          rowsPerPageOptions={[15, 25, 50]}\r\n          loading={loading}\r\n          disableSelectionOnClick\r\n          getRowId={(row) => row.id}\r\n        />\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["createSvgIcon","_jsx","d","Filiales","rows","setRows","useState","loading","setLoading","navigate","useNavigate","fetchFiliales","fetch","then","response","json","data","numberedRows","map","item","index","_objectSpread","id","_id","toString","numero","catch","error","console","useEffect","handleRefresh","window","addEventListener","removeEventListener","columns","field","headerName","width","sortable","filterable","renderCell","params","Button","size","onClick","handleVerDetalles","row","concat","encodeURIComponent","Filial","sx","borderColor","color","minWidth","padding","backgroundColor","children","VisibilityIcon","fontSize","Box","height","maxWidth","background","margin","borderRadius","boxShadow","overflow","DataGrid","pageSize","rowsPerPageOptions","disableSelectionOnClick","getRowId"],"ignoreList":[],"sourceRoot":""}