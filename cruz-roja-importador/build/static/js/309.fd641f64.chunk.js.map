{"version":3,"file":"static/js/309.fd641f64.chunk.js","mappings":"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","sources":["pages/Voluntarios.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\nimport Box from '@mui/material/Box';\r\nimport Select from '@mui/material/Select';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Typography from '@mui/material/Typography';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport RefreshIcon from '@mui/icons-material/Refresh';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport Alert from '@mui/material/Alert';\r\nimport { useTheme, useMediaQuery } from '@mui/material';\r\n\r\nconst CALIDAD_OPTIONS = [\"Activo\", \"Llamada\"];\r\nconst GENERO_OPTIONS = [\"F\", \"M\", \"Otro\"];\r\n\r\nfunction excelDateToJSDate(serial) {\r\n  const utc_days = Math.floor(serial - 25569);\r\n  const utc_value = (utc_days + 1) * 86400;                  \r\n  const date_info = new Date(utc_value * 1000);\r\n  const fractional_day = serial - Math.floor(serial) + 0.0000001;\r\n  let total_seconds = Math.floor(86400 * fractional_day);\r\n  let seconds = total_seconds % 60;\r\n  total_seconds -= seconds;\r\n  let hours = Math.floor(total_seconds / (60 * 60));\r\n  let minutes = Math.floor(total_seconds / 60) % 60;\r\n  date_info.setHours(hours);\r\n  date_info.setMinutes(minutes);\r\n  date_info.setSeconds(seconds);\r\n  return date_info;\r\n}\r\n\r\nexport default function Voluntarios() {\r\n  const [rows, setRows] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [updatingId, setUpdatingId] = useState(null);\r\n  const [updatingGeneroId, setUpdatingGeneroId] = useState(null);\r\n  const [selectedVoluntario, setSelectedVoluntario] = useState(null);\r\n  const [openModal, setOpenModal] = useState(false);\r\n  // NUEVOS ESTADOS\r\n  const [updatingEdades, setUpdatingEdades] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'info' });\r\n\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3001/api/voluntarios')\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (!Array.isArray(data) || data.length === 0) {\r\n          setRows([{ id: 1 }]);\r\n        } else {\r\n          setRows(data.map((v, idx) => ({ id: idx + 1, ...v })));\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error al cargar voluntarios:', error);\r\n        setRows([{ id: 1 }]);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  // NUEVA FUNCIÓN: Actualizar edades masivamente\r\n  const handleActualizarEdades = async () => {\r\n    setUpdatingEdades(true);\r\n    setSnackbar({ open: false, message: '', severity: 'info' });\r\n    try {\r\n      const response = await fetch('http://localhost:3001/api/actualizarEdades', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n      const result = await response.json();\r\n\r\n      setSnackbar({\r\n        open: true,\r\n        message: result.mensaje || 'Actualización completada',\r\n        severity: response.ok ? 'success' : 'error'\r\n      });\r\n\r\n      // Recargar voluntarios para mostrar edades actualizadas\r\n      if (response.ok) {\r\n        setTimeout(() => window.location.reload(), 1500);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Error al actualizar edades. Verifica que el backend esté corriendo.',\r\n        severity: 'error'\r\n      });\r\n    } finally {\r\n      setUpdatingEdades(false);\r\n    }\r\n  };\r\n\r\n  const handleCalidadChange = (id, newValue) => {\r\n    setUpdatingId(id);\r\n    const row = rows.find(r => r.id === id);\r\n    fetch(`http://localhost:3001/api/voluntarios/${row._id}`, {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ \"Calidad de voluntario\": newValue })\r\n    })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          setRows(old =>\r\n            old.map(r =>\r\n              r.id === id\r\n                ? { ...r, \"Calidad de voluntario\": newValue }\r\n                : r\r\n            )\r\n          );\r\n          window.dispatchEvent(new Event('refreshFiliales'));\r\n        } else {\r\n          alert(\"Error al actualizar!\");\r\n        }\r\n        setUpdatingId(null);\r\n      })\r\n      .catch(() => {\r\n        alert(\"Error al actualizar!\");\r\n        setUpdatingId(null);\r\n      });\r\n  };\r\n\r\n  const handleGeneroChange = (id, newValue) => {\r\n    setUpdatingGeneroId(id);\r\n    const row = rows.find(r => r.id === id);\r\n    fetch(`http://localhost:3001/api/voluntarios/${row._id}`, {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ \"Género\": newValue })\r\n    })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          setRows(old =>\r\n            old.map(r =>\r\n              r.id === id\r\n                ? { ...r, \"Género\": newValue }\r\n                : r\r\n            )\r\n          );\r\n          window.dispatchEvent(new Event('refreshFiliales'));\r\n        } else {\r\n          alert(\"Error al actualizar género!\");\r\n        }\r\n        setUpdatingGeneroId(null);\r\n      })\r\n      .catch(() => {\r\n        alert(\"Error al actualizar género!\");\r\n        setUpdatingGeneroId(null);\r\n      });\r\n  };\r\n\r\n  const handleOpenModal = (voluntario) => {\r\n    setSelectedVoluntario(voluntario);\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setOpenModal(false);\r\n    setSelectedVoluntario(null);\r\n  };\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: 'ID', width: 52 },\r\n    {\r\n      field: 'acciones',\r\n      headerName: '',\r\n      width: 60,\r\n      sortable: false,\r\n      filterable: false,\r\n      renderCell: (params) => (\r\n        <Button\r\n          size=\"small\"\r\n          onClick={() => handleOpenModal(params.row)}\r\n          sx={{\r\n            borderColor: '#9c1821',\r\n            color: '#9c1821',\r\n            minWidth: '40px',\r\n            padding: '4px',\r\n            '&:hover': {\r\n              borderColor: '#7a1419',\r\n              backgroundColor: 'rgba(156, 24, 33, 0.04)'\r\n            }\r\n          }}\r\n        >\r\n          <VisibilityIcon fontSize=\"small\" />\r\n        </Button>\r\n      )\r\n    },\r\n    { field: 'Filial', headerName: 'Filial', width: 120 },\r\n    {\r\n      field: 'Calidad de voluntario',\r\n      headerName: 'Calidad de voluntario',\r\n      width: 180,\r\n      renderCell: (params) => {\r\n        const { id, value } = params;\r\n        if (updatingId === id) return <CircularProgress size={20} />;\r\n        return (\r\n          <Select\r\n            value={value}\r\n            onChange={e => handleCalidadChange(id, e.target.value)}\r\n            size=\"small\"\r\n            sx={{ minWidth: 120 }}\r\n          >\r\n            {CALIDAD_OPTIONS.map(option => (\r\n              <MenuItem key={option} value={option}>\r\n                {option}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        );\r\n      }\r\n    },\r\n    { field: 'Nombres voluntario', headerName: 'Nombres voluntario', width: 150 },\r\n    { field: 'Apellidos voluntarios', headerName: 'Apellidos voluntarios', width: 170 },\r\n    { field: 'RUT', headerName: 'RUT', width: 130 },\r\n    {\r\n      field: 'Fecha de ingreso',\r\n      headerName: 'Fecha de ingreso',\r\n      width: 150,\r\n      renderCell: (params) => {\r\n        if (!params.value) return '';\r\n        const date = excelDateToJSDate(params.value);\r\n        return date.toLocaleDateString('es-CL');\r\n      }\r\n    },\r\n    {\r\n      field: 'Fecha nacimiento',\r\n      headerName: 'Fecha nacimiento',\r\n      width: 150,\r\n      renderCell: (params) => {\r\n        if (!params.value) return '';\r\n        const date = excelDateToJSDate(params.value);\r\n        return date.toLocaleDateString('es-CL');\r\n      }\r\n    },\r\n    { field: 'Correo', headerName: 'Correo', width: 180 },\r\n    { field: 'Direccion', headerName: 'Dirección', width: 180 },\r\n    { field: 'Telefono', headerName: 'Teléfono', width: 130 },\r\n    { field: 'Cargo', headerName: 'Cargo', width: 120 },\r\n    { field: 'Edad', headerName: 'Edad', width: 90 },\r\n    {\r\n      field: 'Edad de ingreso a CRC',\r\n      headerName: 'Edad ingreso CRC',\r\n      width: 160,\r\n      renderCell: (params) => {\r\n        const edadIngreso = params.value;\r\n        return edadIngreso ? Math.round(edadIngreso).toString() : 'N/A';\r\n      }\r\n    },\r\n    { field: 'Antigüedad', headerName: 'Antigüedad', width: 120 },\r\n    {\r\n      field: 'Género',\r\n      headerName: 'Género',\r\n      width: 100,\r\n      renderCell: (params) => {\r\n        const { id, value } = params;\r\n        if (updatingGeneroId === id) return <CircularProgress size={20} />;\r\n        return (\r\n          <Select\r\n            value={value || \"\"}\r\n            onChange={e => handleGeneroChange(id, e.target.value)}\r\n            size=\"small\"\r\n            sx={{ minWidth: 70 }}\r\n          >\r\n            {GENERO_OPTIONS.map(option => (\r\n              <MenuItem key={option} value={option}>{option}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        );\r\n      }\r\n    },\r\n    { field: 'Instructores de PPAA Básico', headerName: 'PPAA Básico', width: 140 },\r\n    { field: 'Instructores de PPAA Avanzado', headerName: 'PPAA Avanzado', width: 150 },\r\n    { field: 'Instructores doctrina', headerName: 'Instructores doctrina', width: 140 },\r\n  ];\r\n\r\n  // Filtrar columnas para movil\r\n  const displayedColumns = isMobile ? columns.filter(col => ['id', 'Filial', 'Calidad de voluntario', 'Nombres voluntario', 'RUT'].includes(col.field)) : columns;\r\n\r\n  return (\r\n    <div>\r\n      {/* NUEVO: BOTÓN ACTUALIZAR EDADES */}\r\n      <Box sx={{ mb: 2, display: 'flex', justifyContent: 'flex-end', pr: 2 }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<RefreshIcon />}\r\n          onClick={handleActualizarEdades}\r\n          disabled={updatingEdades}\r\n          sx={{\r\n            backgroundColor: '#9c1821',\r\n            '&:hover': { backgroundColor: '#7a1419' },\r\n            boxShadow: '0 4px 12px rgba(156, 24, 33, 0.3)'\r\n          }}\r\n          size=\"small\"\r\n        >\r\n          {updatingEdades ? (\r\n            <>\r\n              <CircularProgress size={20} sx={{ mr: 1, color: 'white' }} />\r\n              Actualizando...\r\n            </>\r\n          ) : (\r\n            'Actualizar Edades y Antigüedad'\r\n          )}\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* DataGrid responsive */}\r\n      <Box\r\n        sx={{\r\n          height: { xs: 600, sm: 550, md: 490 },\r\n          width: '100%',\r\n          maxWidth: { xs: '100%', sm: 1000 },\r\n          margin: 'auto',\r\n          background: '#fff',\r\n          borderRadius: 2,\r\n          boxShadow: 1,\r\n          overflowX: 'auto',\r\n          p: { xs: 1, sm: 2 },\r\n        }}\r\n      >\r\n        <DataGrid\r\n          rows={rows}\r\n          columns={displayedColumns}\r\n          pageSize={isMobile ? 10 : 15}\r\n          rowsPerPageOptions={isMobile ? [10, 15] : [15, 25, 50]}\r\n          loadingOverlayVisibility={loading}\r\n          disableSelectionOnClick\r\n          getRowId={(row) => row.id}\r\n          suppressCellFocus={true}\r\n        />\r\n      </Box>\r\n\r\n      {/* Snackbar para feedback */}\r\n      <Snackbar \r\n        open={snackbar.open} \r\n        autoHideDuration={5000} \r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n      >\r\n        <Alert \r\n          onClose={() => setSnackbar({ ...snackbar, open: false })} \r\n          severity={snackbar.severity}\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      {/* Modal de detalles del voluntario */}\r\n      <Dialog\r\n        open={openModal}\r\n        onClose={handleCloseModal}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle sx={{ bgcolor: '#9c1821', color: '#fff' }}>\r\n          Detalles del Voluntario\r\n        </DialogTitle>\r\n        <DialogContent sx={{ mt: 2 }}>\r\n          {selectedVoluntario && (\r\n            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n              <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', sm: '1fr 1fr' }, gap: 2 }}>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Nombre\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario['Nombres voluntario'] || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Apellido\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario['Apellidos voluntarios'] || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    RUT\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario.RUT || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Fecha de Nacimiento\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario['Fecha nacimiento']\r\n                      ? excelDateToJSDate(selectedVoluntario['Fecha nacimiento']).toLocaleDateString('es-CL')\r\n                      : 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Edad\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario.Edad || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Género\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario['Género'] || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Filial\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario.Filial || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Fecha de Ingreso\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario['Fecha de ingreso']\r\n                      ? excelDateToJSDate(selectedVoluntario['Fecha de ingreso']).toLocaleDateString('es-CL')\r\n                      : 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Correo\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario['Correo'] || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Dirección\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario.Direccion || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Teléfono\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario.Telefono || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Cargo\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario.Cargo || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Edad de Ingreso\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario['Edad de ingreso a CRC'] || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                    Antigüedad\r\n                  </Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {selectedVoluntario['Antigüedad'] || 'N/A'}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={handleCloseModal} \r\n            variant=\"contained\" \r\n            sx={{ \r\n              bgcolor: '#9c1821',\r\n              '&:hover': {\r\n                bgcolor: '#7a1419'\r\n              }\r\n            }}\r\n          >\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CALIDAD_OPTIONS","GENERO_OPTIONS","excelDateToJSDate","serial","utc_days","Math","floor","date_info","Date","fractional_day","total_seconds","seconds","hours","minutes","setHours","setMinutes","setSeconds","Voluntarios","rows","setRows","useState","loading","setLoading","updatingId","setUpdatingId","updatingGeneroId","setUpdatingGeneroId","selectedVoluntario","setSelectedVoluntario","openModal","setOpenModal","updatingEdades","setUpdatingEdades","snackbar","setSnackbar","open","message","severity","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","useEffect","fetch","then","response","json","data","Array","isArray","length","map","v","idx","_objectSpread","id","catch","error","console","handleCloseModal","columns","field","headerName","width","sortable","filterable","renderCell","params","_jsx","Button","size","onClick","handleOpenModal","voluntario","row","sx","borderColor","color","minWidth","padding","backgroundColor","children","VisibilityIcon","fontSize","value","CircularProgress","Select","onChange","e","handleCalidadChange","newValue","find","r","concat","_id","method","headers","body","JSON","stringify","ok","old","window","dispatchEvent","Event","alert","target","option","MenuItem","toLocaleDateString","edadIngreso","round","toString","handleGeneroChange","displayedColumns","filter","col","includes","_jsxs","Box","mb","display","justifyContent","pr","variant","startIcon","RefreshIcon","async","result","mensaje","setTimeout","location","reload","disabled","boxShadow","_Fragment","mr","height","xs","sm","md","maxWidth","margin","background","borderRadius","overflowX","p","DataGrid","pageSize","rowsPerPageOptions","loadingOverlayVisibility","disableSelectionOnClick","getRowId","suppressCellFocus","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","Alert","Dialog","fullWidth","DialogTitle","bgcolor","DialogContent","mt","flexDirection","gap","gridTemplateColumns","Typography","RUT","Edad","Filial","Direccion","Telefono","Cargo","DialogActions"],"ignoreList":[],"sourceRoot":""}