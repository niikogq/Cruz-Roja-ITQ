"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[628],{8628:(s,e,o)=>{o.r(e),o.d(e,{default:()=>l});var r=o(5043),i=o(6058),t=o(7304),n=o(3969),a=o(5895),d=o(579);function l(){const[s,e]=(0,r.useState)(0),[o,t]=(0,r.useState)(0),[l,x]=(0,r.useState)(0),[c,h]=(0,r.useState)(0),[f,m]=(0,r.useState)([]),[p,b]=(0,r.useState)(0),[u,g]=(0,r.useState)(0),[j,A]=(0,r.useState)(0),[S,k]=(0,r.useState)(0);(0,r.useEffect)(()=>{Promise.all([fetch("http://localhost:3001/api/voluntarios").then(s=>s.json()),fetch("http://localhost:3001/api/filiales").then(s=>s.json())]).then(s=>{let[o,r]=s;const i=o.filter(s=>"Activo"===s["Calidad de voluntario"]).length,n=o.filter(s=>"Llamada"===s["Calidad de voluntario"]).length;e(i),t(n),x(o.length),h(r.length);const a={M:0,F:0,Otro:0};o.forEach(s=>{const e=s["G\xe9nero"]||s.G\u00e9nero;void 0!==a[e]?a[e]++:a.Otro++}),g(a.M),A(a.F),k(a.Otro);const d={};o.forEach(s=>{const e=s.Filial||"Sin filial";d[e]=(d[e]||0)+1});const l=Object.entries(d).sort((s,e)=>e[1]-s[1]).slice(0,10).map(s=>{let[e,o]=s;return{name:e,count:o}});m(l);const c=o.filter(s=>s.Edad).map(s=>s.Edad),f=c.length>0?Math.round(c.reduce((s,e)=>s+e,0)/c.length):0;b(f)}).catch(s=>console.error("Error cargando datos:",s))},[]);const z={labels:["Activos","De Llamada"],datasets:[{data:[s,o],backgroundColor:["#38b000","#f8c102"],borderWidth:2,borderColor:"#fff"}]},y={labels:["Mujeres","Hombres","Otros"],datasets:[{data:[j,u,S],backgroundColor:["#ff6b9d","#4ecdc4","#ffe66d"],borderWidth:3,borderColor:"#fff"}]},w={labels:f.map(s=>s.name),datasets:[{label:"Voluntarios",data:f.map(s=>s.count),backgroundColor:"#9c1821",borderWidth:1}]};return(0,d.jsxs)(n.A,{sx:{p:{xs:2,sm:4},maxWidth:1400,mx:"auto"},children:[(0,d.jsxs)(n.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(auto-fit, minmax(200px, 1fr))"},gap:{xs:1.5,sm:2},mb:{xs:4,sm:5}},children:[(0,d.jsxs)(n.A,{sx:{background:"linear-gradient(135deg, #9c1821 0%, #c54646 100%)",color:"#fff",p:{xs:2.5,sm:3},borderRadius:2,boxShadow:"0 4px 12px rgba(156, 24, 33, 0.3)"},children:[(0,d.jsx)(a.A,{sx:{fontSize:{xs:12,sm:14},opacity:.9,mb:1},children:"Total Voluntarios"}),(0,d.jsx)(a.A,{sx:{fontSize:{xs:28,sm:36},fontWeight:700},children:l})]}),(0,d.jsxs)(n.A,{sx:{background:"linear-gradient(135deg, #38b000 0%, #4caf50 100%)",color:"#fff",p:{xs:2.5,sm:3},borderRadius:2,boxShadow:"0 4px 12px rgba(56, 176, 0, 0.3)"},children:[(0,d.jsx)(a.A,{sx:{fontSize:{xs:12,sm:14},opacity:.9,mb:1},children:"Voluntarios Activos"}),(0,d.jsx)(a.A,{sx:{fontSize:{xs:28,sm:36},fontWeight:700},children:s})]}),(0,d.jsxs)(n.A,{sx:{background:"linear-gradient(135deg, #f8c102 0%, #ffc107 100%)",color:"#fff",p:{xs:2.5,sm:3},borderRadius:2,boxShadow:"0 4px 12px rgba(248, 193, 2, 0.3)"},children:[(0,d.jsx)(a.A,{sx:{fontSize:{xs:12,sm:14},opacity:.9,mb:1},children:"Voluntarios de Llamada"}),(0,d.jsx)(a.A,{sx:{fontSize:{xs:28,sm:36},fontWeight:700},children:o})]}),(0,d.jsxs)(n.A,{sx:{background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)",color:"#fff",p:{xs:2.5,sm:3},borderRadius:2,boxShadow:"0 4px 12px rgba(25, 118, 210, 0.3)"},children:[(0,d.jsx)(a.A,{sx:{fontSize:{xs:12,sm:14},opacity:.9,mb:1},children:"Total Filiales"}),(0,d.jsx)(a.A,{sx:{fontSize:{xs:28,sm:36},fontWeight:700},children:c})]})]}),(0,d.jsxs)(n.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(auto-fit, minmax(320px, 1fr))"},gap:3,mb:5},children:[(0,d.jsxs)(n.A,{sx:{background:"#fff",p:4,borderRadius:3,boxShadow:"0 4px 16px rgba(0,0,0,0.1)"},children:[(0,d.jsx)(a.A,{sx:{color:"#9c1821",mb:3,fontSize:{xs:"1rem",sm:"1.3rem"}},children:"Distribuci\xf3n de Voluntarios"}),(0,d.jsx)(n.A,{sx:{maxWidth:280,height:280,mx:"auto"},children:(0,d.jsx)(i.nu,{data:z})}),(0,d.jsxs)(n.A,{sx:{display:"flex",gap:3,mt:3,fontSize:16,fontWeight:500,justifyContent:"center",color:"#333",flexWrap:"wrap"},children:[(0,d.jsxs)("span",{children:[(0,d.jsx)(n.A,{component:"span",sx:{display:"inline-block",width:16,height:10,background:"#38b000",borderRadius:4,mr:1,verticalAlign:"middle"}}),"Activos: ",s]}),(0,d.jsxs)("span",{children:[(0,d.jsx)(n.A,{component:"span",sx:{display:"inline-block",width:16,height:10,background:"#f8c102",borderRadius:4,mr:1,verticalAlign:"middle"}}),"Llamada: ",o]})]})]}),(0,d.jsxs)(n.A,{sx:{background:"#fff",p:4,borderRadius:3,boxShadow:"0 4px 16px rgba(0,0,0,0.1)"},children:[(0,d.jsx)(a.A,{sx:{color:"#9c1821",mb:3,fontSize:{xs:"1rem",sm:"1.3rem"}},children:"Distribuci\xf3n por G\xe9nero"}),(0,d.jsx)(n.A,{sx:{maxWidth:280,height:280,mx:"auto"},children:(0,d.jsx)(i.nu,{data:y})}),(0,d.jsxs)(n.A,{sx:{display:"flex",gap:2,mt:3,fontSize:16,fontWeight:500,justifyContent:"center",color:"#333",flexWrap:"wrap"},children:[(0,d.jsxs)("span",{children:[(0,d.jsx)(n.A,{component:"span",sx:{display:"inline-block",width:16,height:10,background:"#ff6b9d",borderRadius:4,mr:1,verticalAlign:"middle"}}),"Mujeres: ",j]}),(0,d.jsxs)("span",{children:[(0,d.jsx)(n.A,{component:"span",sx:{display:"inline-block",width:16,height:10,background:"#4ecdc4",borderRadius:4,mr:1,verticalAlign:"middle"}}),"Hombres: ",u]}),(0,d.jsxs)("span",{children:[(0,d.jsx)(n.A,{component:"span",sx:{display:"inline-block",width:16,height:10,background:"#ffe66d",borderRadius:4,mr:1,verticalAlign:"middle"}}),"Otros: ",S]})]})]}),(0,d.jsxs)(n.A,{sx:{background:"#fff",p:4,borderRadius:3,boxShadow:"0 4px 16px rgba(0,0,0,0.1)"},children:[(0,d.jsx)(a.A,{sx:{color:"#9c1821",mb:3,fontSize:{xs:"1rem",sm:"1.3rem"}},children:"Top 10 Filiales con M\xe1s Voluntarios"}),(0,d.jsx)(n.A,{sx:{height:{xs:220,sm:300}},children:(0,d.jsx)(i.yP,{data:w,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!1}}}})})]})]}),(0,d.jsxs)(n.A,{sx:{background:"#fff",p:4,borderRadius:3,boxShadow:"0 4px 16px rgba(0,0,0,0.1)"},children:[(0,d.jsx)(a.A,{sx:{color:"#9c1821",mb:3,fontSize:{xs:"1rem",sm:"1.3rem"}},children:"Resumen General"}),(0,d.jsxs)(n.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(auto-fit, minmax(200px, 1fr))"},gap:3,mt:3},children:[(0,d.jsxs)(n.A,{sx:{textAlign:"center"},children:[(0,d.jsx)(a.A,{sx:{fontSize:42,fontWeight:700,color:"#9c1821"},children:p}),(0,d.jsx)(a.A,{sx:{fontSize:14,color:"#666",mt:1},children:"Edad Promedio"})]}),(0,d.jsxs)(n.A,{sx:{textAlign:"center"},children:[(0,d.jsxs)(a.A,{sx:{fontSize:42,fontWeight:700,color:"#9c1821"},children:[l>0?(s/l*100).toFixed(1):0,"%"]}),(0,d.jsx)(a.A,{sx:{fontSize:14,color:"#666",mt:1},children:"Tasa de Activos"})]}),(0,d.jsxs)(n.A,{sx:{textAlign:"center"},children:[(0,d.jsx)(a.A,{sx:{fontSize:42,fontWeight:700,color:"#9c1821"},children:c>0?Math.round(l/c):0}),(0,d.jsx)(a.A,{sx:{fontSize:14,color:"#666",mt:1},children:"Voluntarios por Filial"})]})]})]})]})}t.t1.register(t.Bs,t.m_,t.s$,t.PP,t.kc,t.E8)}}]);
//# sourceMappingURL=628.fa02f11e.chunk.js.map